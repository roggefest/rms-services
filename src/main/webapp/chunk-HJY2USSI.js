import{a as ke,c as Ae,d as Le,e as Ve}from"./chunk-LJAMSDGS.js";import{c as re,e as ae}from"./chunk-IDBBXLGP.js";import{a as xe,b as ye,c as we,d as Ie,h as Pe,i as De,j as Fe,m as Me,n as Re,p as je,q as Oe,r as Be,s as qe,t as We,u as Ge,v as He,w as Ue}from"./chunk-VW4DD7XS.js";import{a as be,b as Se}from"./chunk-O6B2BRIA.js";import{B as ze,C as Ne,D as $e,b as se,c as A,e as le,f as ce,g as pe,h as L,i as de,j as me,k as ue,l as fe,n as he,o as ge,p as _e,r as ve,s as Ce,t as z,w as Te,x as Ee}from"./chunk-ZIPX6HED.js";import{Eb as P,Fb as k,Gb as ee,Oc as O,P as M,Pa as T,Q as V,Qa as N,Ra as d,Sc as B,T as f,U as h,Ua as U,Va as q,Wa as n,Xa as o,Xc as W,Ya as _,Yc as G,Z as j,ab as b,bb as g,cb as m,cc as te,db as Z,eb as K,fb as Q,ha as $,hc as ie,kb as I,kc as ne,lb as l,lc as oe,mb as v,mc as D,nb as E,pb as J,qb as C,rb as x,sb as y,tb as Y,ub as X,vb as R,ya as s,za as w}from"./chunk-DU6A2WQC.js";import"./chunk-55KE2TB7.js";var et=["*"],Ke=(()=>{class a{style;styleClass;layout="horizontal";type="solid";align;containerClass(){return{"p-divider p-component":!0,"p-divider-horizontal":this.layout==="horizontal","p-divider-vertical":this.layout==="vertical","p-divider-solid":this.type==="solid","p-divider-dashed":this.type==="dashed","p-divider-dotted":this.type==="dotted","p-divider-left":this.layout==="horizontal"&&(!this.align||this.align==="left"),"p-divider-center":this.layout==="horizontal"&&this.align==="center"||this.layout==="vertical"&&(!this.align||this.align==="center"),"p-divider-right":this.layout==="horizontal"&&this.align==="right","p-divider-top":this.layout==="vertical"&&this.align==="top","p-divider-bottom":this.layout==="vertical"&&this.align==="bottom"}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["p-divider"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",layout:"layout",type:"type",align:"align"},ngContentSelectors:et,decls:3,vars:6,consts:[["role","separator",3,"ngClass","ngStyle"],[1,"p-divider-content"]],template:function(e,t){e&1&&(Z(),n(0,"div",0)(1,"div",1),K(2),o()()),e&2&&(q(t.styleClass),d("ngClass",t.containerClass())("ngStyle",t.style),N("aria-orientation",t.layout)("data-pc-name","divider"))},dependencies:[te,ie],styles:[`@layer primeng{.p-divider-horizontal{display:flex;width:100%;position:relative;align-items:center}.p-divider-horizontal:before{position:absolute;display:block;top:50%;left:0;width:100%;content:""}.p-divider-horizontal.p-divider-left{justify-content:flex-start}.p-divider-horizontal.p-divider-right{justify-content:flex-end}.p-divider-horizontal.p-divider-center{justify-content:center}.p-divider-content{z-index:1}.p-divider-vertical{min-height:100%;margin:0 1rem;display:flex;position:relative;justify-content:center}.p-divider-vertical:before{position:absolute;display:block;top:0;left:50%;height:100%;content:""}.p-divider-vertical.p-divider-top{align-items:flex-start}.p-divider-vertical.p-divider-center{align-items:center}.p-divider-vertical.p-divider-bottom{align-items:flex-end}.p-divider-solid.p-divider-horizontal:before{border-top-style:solid}.p-divider-solid.p-divider-vertical:before{border-left-style:solid}.p-divider-dashed.p-divider-horizontal:before{border-top-style:dashed}.p-divider-dashed.p-divider-vertical:before{border-left-style:dashed}.p-divider-dotted.p-divider-horizontal:before{border-top-style:dotted}.p-divider-dotted.p-divider-horizontal:before{border-left-style:dotted}}
`],encapsulation:2,changeDetection:0})}return a})(),Qe=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=V({type:a});static \u0275inj=j({imports:[D]})}return a})();var Je=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=V({type:a});static \u0275inj=j({imports:[D,z,G,G]})}return a})();function it(a,u){if(a&1){let r=b();n(0,"div",41)(1,"span",24),_(2,"i",42),n(3,"input",43),g("input",function(t){f(r),m();let i=I(16);return h(i.filterGlobal(t.target.value,"contains"))}),o()()()}}function nt(a,u){a&1&&(n(0,"tr")(1,"th",44)(2,"div",45),l(3," DESCRIPCION "),_(4,"p-sortIcon",46)(5,"p-columnFilter",47),o()(),n(6,"th",48),l(7,"Agregar"),o()())}function ot(a,u){if(a&1){let r=b();n(0,"tr")(1,"td",49),l(2),n(3,"span",50),_(4,"i",51),n(5,"span",52),l(6),P(7,"currency"),o()(),n(8,"span",50),_(9,"i",53),n(10,"span",52),l(11),o()()(),n(12,"td")(13,"p-button",54),g("click",function(){let i=f(r).$implicit,p=m();return h(p.selectProduct(i,p.selectedTurn))}),o()()()}if(a&2){let r=u.$implicit;s(2),E("",r.title," "),s(4),J("",r.categoryDescription," : ",k(7,5,r.price)," ",r.generateIva?"(Genera IVA)":"",""),s(5),v(r.partidaDescription)}}function rt(a,u){a&1&&(n(0,"tr")(1,"td",55),l(2,"No se encontraron productos."),o()())}function at(a,u){if(a&1){let r=b();n(0,"div",41)(1,"p-dropdown",56),y("ngModelChange",function(t){f(r);let i=m();return x(i.selectedFormat,t)||(i.selectedFormat=t),h(t)}),g("onClick",function(){f(r);let t=m();return h(t.changeFormat())}),o(),n(2,"span",24),_(3,"i",42),n(4,"input",43),g("input",function(t){f(r),m();let i=I(49);return h(i.filterGlobal(t.target.value,"contains"))}),o()(),n(5,"span",24)(6,"p"),l(7),o()()()}if(a&2){let r=m();s(),d("options",r.listFormat),C("ngModel",r.selectedFormat),d("showClear",!1),s(6),E("Productos agregados : ",r.selectedProducts.length+" de "+r.listLimit,"")}}function st(a,u){a&1&&(n(0,"tr")(1,"th",57),l(2,"NO."),o(),n(3,"th",48),l(4,"CANTIDAD"),o(),n(5,"th",58),l(6,"U. DE MEDIDA"),o(),n(7,"th",59)(8,"div",45),l(9," DESCRIPCI\xD3N "),o()(),n(10,"th",60)(11,"div",45),l(12," TURN "),o()(),n(13,"th",48),l(14,"PRECIO UNIT."),o(),n(15,"th",48),l(16,"IMPORTE"),o(),n(17,"th",57),l(18,"Eliminar"),o()())}function lt(a,u){if(a&1){let r=b();n(0,"tr")(1,"td",61),l(2),o(),n(3,"td",61),l(4),P(5,"number"),o(),n(6,"td",61),l(7),o(),n(8,"td",61),l(9),o(),n(10,"td",61),l(11),o(),n(12,"td",61),l(13),P(14,"currency"),o(),n(15,"td",61),l(16),P(17,"currency"),o(),n(18,"td")(19,"p-button",62),g("click",function(t){let p=f(r).$implicit,c=m();return h(c.deleteProductFromList(p,t))}),o()()()}if(a&2){let r=u.$implicit,e=u.rowIndex;s(2),v(e+1),s(2),v(ee(5,7,r.quantity,"0.0-3")),s(3),v(r.categoryDescription),s(2),v(r.title),s(2),v(r.turnDescription),s(2),v(k(14,10,r.price)),s(3),v(k(17,12,r.quantity*r.price))}}function ct(a,u){a&1&&(n(0,"tr")(1,"td",55),l(2,"No se encontraron productos."),o()())}function pt(a,u){if(a&1&&(n(0,"tr"),_(1,"td",63),n(2,"td"),l(3),P(4,"currency"),o(),_(5,"td",64),o()),a&2){let r=m();s(3),E("Total: ",k(4,1,r.totalSum),"")}}function dt(a,u){if(a&1){let r=b();n(0,"div",65)(1,"div",66),_(2,"i",67),o(),n(3,"span",68),l(4),o(),n(5,"p-dropdown",69),y("ngModelChange",function(t){f(r);let i=m();return x(i.selectedTurn,t)||(i.selectedTurn=t),h(t)}),g("onChange",function(){f(r);let t=m();return h(t.onChangeTurn(t.selectedProduct))}),o(),n(6,"p",70),l(7),o(),n(8,"p-dropdown",71),y("ngModelChange",function(t){f(r);let i=m();return x(i.selectedCategory,t)||(i.selectedCategory=t),h(t)}),o(),n(9,"p",70),l(10),o(),n(11,"input",72),y("ngModelChange",function(t){f(r);let i=m();return x(i.quantity,t)||(i.quantity=t),h(t)}),g("keyup.enter",function(){f(r),m();let t=I(57);return h(t.accept())}),o(),n(12,"p",73),l(13),o(),n(14,"div",74)(15,"button",75),g("click",function(){f(r),m();let t=I(57);return h(t.accept())}),o(),n(16,"button",76),g("click",function(){f(r),m();let t=I(57);return h(t.reject())}),o()()()}if(a&2){let r=u.$implicit,e=m();s(4),v(r.header),s(),d("options",e.turns),C("ngModel",e.selectedTurn),d("showClear",!0),s(2),v("UNIDAD DE MEDIDA PREDETERMINADA EN CAT\xC1LOGO: "+(e.selectedProduct==null?null:e.selectedProduct.categoryDescription)),s(),d("options",e.unidades),C("ngModel",e.selectedCategory),d("showClear",!0),s(2),E("CANTIDAD ",e.selectedProduct.generateIva?"(Genera IVA)":"",":"),s(),C("ngModel",e.quantity),s(2),v(r.message)}}function mt(a,u){if(a&1){let r=b();n(0,"div",10)(1,"p"),l(2),o()(),n(3,"div",10)(4,"span",24),_(5,"i",25),n(6,"input",77),y("ngModelChange",function(t){f(r);let i=m();return x(i.finalFolio,t)||(i.finalFolio=t),h(t)}),o()()(),n(7,"div",10)(8,"p-checkbox",78),y("ngModelChange",function(t){f(r);let i=m();return x(i.printPrices,t)||(i.printPrices=t),h(t)}),o()()}if(a&2){let r=m();s(2),E("Formato eleg\xEDdo: ",r.selectedFormat==null?null:r.selectedFormat.description,""),s(4),C("ngModel",r.finalFolio),s(2),d("binary",!0),C("ngModel",r.printPrices)}}function ut(a,u){if(a&1){let r=b();n(0,"button",79),g("click",function(){f(r);let t=m();return h(t.closeDialog())}),o(),n(1,"p-button",80),g("onClick",function(){f(r);let t=m();return h(t.printRemissionAction())}),o()}}var ft=()=>[10,25,50],Ye=()=>["title"],ht=()=>({width:"300px",height:"300px"}),yi=(()=>{let u=class u{constructor(e,t,i,p,c){this.service=e,this.catalogService=t,this.messageService=i,this.confirmatioService=p,this.router=c,this.route=$(re),this.loadingDetails=!1,this.loadingProducts=!1,this.products=[],this.selectedProducts=[],this.loading=!1,this.totalRecords=0,this.partidas=[],this.areas=[],this.turns=[],this.quantity=1,this.listFormat=[],this.listLimit=1,this.remisionSaved=!1,this.savingRemission=!1,this.remissionId="",this.totalSum=0,this.visiblePrintModal=!1,this.printButon=!0,this.printPrices=!0,this.finalFolio="",this.unidades=[],this.dataForm=new pe({folio:new L("",[A.minLength(3),A.pattern("^[0-9]*$")]),observations:new L(""),destination:new L(0,[A.required]),expeditionDate:new L({value:"",disabled:!1},[A.required])})}ngOnInit(){this.remissionId=String(this.route.snapshot.paramMap.get("remissionId")),this.loadAreasCatalog(),this.loadPartidaCatalog(),this.loadCategoryCatalog(),this.turns=[{turnId:1,turnDescription:"Jornada Acumulada"},{turnId:2,turnDescription:"Matutino"},{turnId:3,turnDescription:"Vespertino"}],this.selectedTurn=this.turns[0],this.listFormat=[{description:"Largo (35 elementos)",id:1},{description:"Corto (15 elementos)",id:2},{description:"Corto (15 elementos - Bemic)",id:3}],this.selectedFormat=this.listFormat[0],this.listLimit=35}changeDropsCatalog(){this.loadProducts(this.selectedPartida?.partidaId,this.selectedArea?.areaId)}loadDetails(e){this.loadingDetails=!0,this.detailsSubscription=this.service.getRemisionDetails(e).subscribe({next:t=>{this.remisionDetail=t,console.log("Remission detail: %o",this.remisionDetail)},error:t=>{console.error("Error loading remissions:",t)},complete:()=>{this.remisionDetail!=null&&(console.log("areas: %o",this.areas),console.log("area %o",this.areas.find(t=>t.areaId==this.remisionDetail.destinationId)),this.dataForm.patchValue({folio:this.remisionDetail.folio,observations:this.remisionDetail.observations,expeditionDate:new Date(this.remisionDetail.expeditionDate),destination:this.areas.find(t=>t.areaId==this.remisionDetail.destinationId)}),this.selectedFormat=this.listFormat.find(t=>t.id===this.remisionDetail.formatId),this.totalSum=this.remisionDetail.total,this.selectedProducts=this.remisionDetail.products,this.remisionSaved=!0,this.setLimit(),this.loadingDetails=!1)}})}loadProducts(e,t){this.loadingProducts=!0,this.getProductCatalogSubscription=this.catalogService.getProductsCatalog(t,e).subscribe({next:i=>{console.log(i),this.products=i},error:i=>{console.error("Error loading remissions:",i)},complete:()=>{this.loadingProducts=!1}})}selectProduct(e,t){if(+this.listLimit-this.selectedProducts.length<=0){this.messageService.add({severity:"error",summary:"Limite de la lista alcanzado",detail:"Se alcanz\xF3 el l\xEDmite de elementos, elimine elementos para agregar nuevos elementos"});return}this.selectedCategory={categoryDescription:e.categoryDescription,categoryId:e.categoryId};let p={id:e.id+"",title:e.title,description:e.description,price:e.price,categoryId:e.categoryId,categoryDescription:e.categoryDescription,quantity:e.quantity,turnId:t.turnId,turnDescription:t.turnDescription,partidaId:this.selectedPartida?.partidaId,partidaDescription:e.partidaDescription,generateIva:e.generateIva},c=e.title,S="",F=!1;this.checkProductExistence(p)?(S=`El producto ya existe en la remisi\xF3n, Sumar ${this.quantity} ${e.category} de ${c} a el producto existente en la remisi\xF3n?`,F=!0):S=`Agregar ${c} a la remisi\xF3n?`,this.createConfirmationDialog(p,S,F)}checkProductExistence(e){return console.log(this.selectedProducts),console.log("newProduct %o",e),console.log("%o",this.selectedProducts.find(t=>t.id===e.id&&t.turnId===e.turnId)),this.selectedProducts.find(t=>t.id==e.id&&t.turnId===e.turnId)!=null}onChangeTurn(e){console.log("onChangeTurn");let t={turnId:this.selectedTurn?.turnId,turnDescription:this.selectedTurn?.turnDescription},i=this.selectedProduct.title,p=t.turnId,c=t.turnDescription,S="",F=!1,H={id:e.id+"",title:e.title,description:e.description,price:e.price,categoryId:e.categoryId,categoryDescription:e.categoryDescription,quantity:e.quantity,turnId:p,partidaDescription:e.partidaDescription,turnDescription:c,partidaId:this.selectedPartida?.partidaId};this.checkProductExistence(H)?(S=`El producto ya existe en la remisi\xF3n, Sumar ${this.quantity} ${this.selectedProduct.category} de ${i} a el producto existente en la remisi\xF3n?`,F=!0):S=`Agregar ${i} a la remisi\xF3n?`,this.createConfirmationDialog(H,S,F)}createConfirmationDialog(e,t,i){this.selectedProduct=e;let p=e.title,c=`Agregar (${p})`;i&&(c=`PRODUCTO EXISTENTE (${p})`),this.selectedTurn=this.turns[0],this.confirmatioService.confirm({message:t,header:c,acceptLabel:"Si",icon:"pi pi-dearch",accept:()=>{i?this.modifyingProductInList(e):this.addNewProductToList(e),this.calculateTotal()},reject:()=>{this.messageService.add({severity:"error",summary:"Operaci\xF3n cancelada",detail:`Se rechaz\xF3 agregar ${p} a la remisi\xF3n`})}})}addNewProductToList(e){e.quantity=this.quantity,e.categoryId=this.selectedCategory?.categoryId,e.categoryDescription=this.selectedCategory?.categoryDescription,this.selectedProducts.push(e),this.quantity=1,console.log("Adding to list %o",this.selectedProducts),this.messageService.add({severity:"success",summary:"Confirmado",detail:`Se agregaron ${this.quantity} ${e.categoryDescription} de ${e.title} a la remisi\xF3n`})}modifyingProductInList(e){let t=this.selectedProducts.find(c=>c.id===e.id&&c.turnId===e.turnId),i=this.selectedProducts.indexOf(t),p=this.selectedProducts[i].quantity;p=+p+ +this.quantity,this.selectedProducts[i].quantity=p,this.quantity=1,this.messageService.add({severity:"success",summary:"Confirmado",detail:`Se sumaron ${this.quantity} ${e.categoryDescription} de ${e.title} a el producto existente?`})}deleteProductFromList(e,t){console.log("deleteFromlist"),console.log("found product: %o",this.selectedProducts.find(c=>c.id===e.id&&c.turnId===e.turnId));let i=this.selectedProducts.find(c=>c.id===e.id&&c.turnId===e.turnId),p=this.selectedProducts.indexOf(i);console.log("index: %o",p),this.selectedProducts.splice(p,1),this.calculateTotal(),this.messageService.add({severity:"success",summary:"Confirmado",detail:`Se elimino el producto ${e.title} de la lista con \xE9xito`})}setLimit(){this.selectedFormat==this.listFormat[0]?this.listLimit=35:this.listLimit=15}changeFormat(){console.log(this.selectedFormat),this.setLimit();let e=+this.listLimit-this.selectedProducts.length;if(console.log(e),e<0){this.selectedFormat=this.listFormat[0],this.listLimit=35,this.messageService.add({severity:"error",summary:"No se puede modificar formato",detail:"Se alcanz\xF3 el l\xEDmite de elementos para cambiar el formto, elimine elementos para agregar nuevos elementos"});return}}printRemissionPreview(){this.visiblePrintModal=!0,this.pdfremisionsubscription=this.service.getPdfRemissionB64(this.remissionId).subscribe({next:e=>{console.log(e);let t=PDFObject.embed(e.b64Pdf,"#pdfContainer")},error:e=>{console.error("Error printing remission preview:",e)},complete:()=>{this.loadingProducts=!1}})}openPrintModal(){this.visiblePrintModal=!0,this.finalFolio=this.dataForm.controls.folio.value}newRemission(){console.log("newRemission");let e=this.dataForm.controls.folio.value;this.remisionSaved&&e===""?this.messageService.add({severity:"error",summary:"Folio faltante",detail:"Proporcione un folio y guarde la remisi\xF3n antes de crear una nueva"}):this.reloadComponent(!1,"adminremision/0")}reloadComponent(e,t){console.log("Current route I am on:",this.router.url);let i=e?this.router.url:t;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([`/${i}`]).then(()=>{console.log(`After navigation I am on:${this.router.url}`)})})}printRemissionAction(){console.log("Printing remission with price? %o",this.printPrices),this.finalFolio===""?this.service.printRemissionUpdate(this.remissionId,"0",this.printPrices):(this.dataForm.controls.folio.patchValue(this.finalFolio),this.service.printRemissionUpdate(this.remissionId,this.finalFolio,this.printPrices)),this.visiblePrintModal=!1}closeDialog(){this.visiblePrintModal=!1}cancelRemissionCreation(){this.router.navigate(["listremisions"])}onSubmit(){console.warn(this.dataForm.value),this.savingRemission=!0,console.log("Selected products: %o",this.selectedProducts);let e=+(this.totalSum*.16)+ +this.totalSum;console.log("Great total: ",e),this.remissionData={id:this.remissionId,total:this.totalSum,greatTotal:e.toFixed(2),destinationId:this.dataForm.controls.destination.value.areaId,areaDescription:this.dataForm.controls.destination.value.areaDescription,folio:this.dataForm.controls.folio.value,observations:this.dataForm.controls.observations.value,expeditionDate:this.dataForm.controls.expeditionDate.value,format:this.selectedFormat,products:this.selectedProducts,formatId:this.selectedFormat?.id},console.log("remission data: %o",this.remissionData),this.saveRemission(this.remissionData)}saveRemission(e){this.savingRemission=!0,this.addRemisionSubscription=this.service.addRemission(this.remissionData).subscribe({next:t=>{console.log("Response: %o",t),this.remissionId=t.id},error:t=>{this.savingRemission=!1,this.remisionSaved=!1,console.error("Error substituying remissions:",t),this.messageService.add({severity:"error",summary:"Error al guardar ",detail:`Ocurri\xF3 un error al guardar la remisi\xF3n (${t.error})`})},complete:()=>{this.savingRemission=!1,this.remisionSaved=!0,this.messageService.add({severity:"success",summary:"Guardado exitoso",detail:`Se guard\xF3 la remisi\xF3n con el folio: ${e.folio} exitosamente`})}})}calculateTotal(){this.selectedProducts.length!=0?this.totalSum=this.selectedProducts.map(e=>e.price*e.quantity).reduce(function(e,t){return e+t}):this.totalSum=0}loadAreasCatalog(){this.catalogServicesSubscription=this.catalogService.getDestinations().subscribe({next:e=>{this.areas=e},error:e=>{console.error("Error loading areas catalog:",e)},complete:()=>{this.loadDetails(this.remissionId)}})}loadPartidaCatalog(){this.partidaCatSubscription=this.catalogService.getPartidas().subscribe({next:e=>{this.partidas=e},error:e=>{console.error("Error loading areas catalog:",e)},complete:()=>{}})}loadCategoryCatalog(){this.categoryCatSubscription=this.catalogService.getCategories().subscribe({next:e=>{this.unidades=e},error:e=>{console.error("Error loading areas catalog:",e)},complete:()=>{}})}ngOnDestroy(){this.catalogServicesSubscription?.unsubscribe(),this.addRemisionSubscription?.unsubscribe(),this.detailsSubscription?.unsubscribe(),this.pdfremisionsubscription?.unsubscribe(),this.getProductCatalogSubscription?.unsubscribe(),this.partidaCatSubscription?.unsubscribe(),this.categoryCatSubscription?.unsubscribe(),console.log("unsubscribed")}};u.\u0275fac=function(t){return new(t||u)(w($e),w(Ue),w(B),w(O),w(ae))},u.\u0275cmp=M({type:u,selectors:[["app-remision-admin"]],standalone:!0,features:[Y([B,O]),X],decls:62,vars:39,consts:[["header","REMISIONES"],[1,"flex","flex-column","md:flex-row"],[1,"w-full","md:w-6","flex","flex-column","gap-3","py-1","text-xs"],[1,"formgrid","grid"],[1,"field","md:col-5","col-12"],[1,"p-float-label"],["optionLabel","partidaDescription","placeholder","Selecciona una partida","pTooltip","Selecciona una partida para desplegar su cat\xE1logo","inputId","float-label",1,"p-inputtext-sm","text-xs",3,"options","ngModel","showClear","ngModelChange","onChange"],["for","float-label"],[1,"field","md:col-7","col-12"],["optionLabel","areaDescription","placeholder","Selecciona un catalogo espec\xEDfico","pTooltip","Selecciona un \xE1rea para desplegar sus parridas","inputId","float-label",1,"p-inputtext-sm","text-xs","sm:max-w-min",3,"options","ngModel","showClear","ngModelChange","onChange"],[1,"field","md:col-12","col-12"],["dataKey","id","selectionMode","single","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","styleClass","scrollable","rowsPerPageOptions","loading","paginator","globalFilterFields"],["dtproducts",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"w-full","md:w-2"],["layout","vertical","styleClass","hidden md:flex"],["layout","horizontal","styleClass","flex md:hidden",3,"align"],[1,"w-full","md:w-10","flex","py-1","flex","flex-column"],[3,"formGroup","ngSubmit"],["optionLabel","areaDescription","formControlName","destination","placeholder","Selecciona un \xE1rea","pTooltip","\xC1rea de destino de la remisi\xF3n","inputId","float-label",1,"p-inputtext-sm","text-xs",3,"options","showClear"],[1,"field","md:col-4","col-4"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-folder"],["pInputText","","type","text","placeholder","Folio de la remisi\xF3n","formControlName","folio","pTooltip","N\xFAmero de folio que se le asigna a la remisi\xF3n",1,"p-inputtext-sm","text-xs"],["formControlName","expeditionDate","dateFormat","dd/mm/yy","tooltipEvent","focus","placeholder","Fecha de expedici\xF3n","pTooltip","Fecha de inicio en que se expidio la remisi\xF3n",1,"p-inputtext-sm","text-xs",3,"iconDisplay","showButtonBar","showIcon"],["pInputText","","type","text","placeholder","Observaciones","formControlName","observations","pTooltip","Observaciones de le remisi\xF3n",1,"p-inputtext-sm","text-xs"],[1,"field","md:col-3","col-3"],["type","submit","icon","pi pi-save","label","Guardar remisi\xF3n","size","small","pTooltip","Guardar la remisi\xF3n","loadingIcon","pi pi-cog",3,"disabled","loading"],["type","button","icon","pi pi-print","label","Imprimir remisi\xF3n","size","small","pTooltip","Imprimir la remisi\xF3n",3,"disabled","onClick"],["type","button","icon","pi pi-plus","label","Nueva remisi\xF3n","size","small","pTooltip","Crear nueva remisi\xF3n",3,"onClick"],["type","button","icon","pi pi-times-circle","severity","danger","size","small","pTooltip","Cancelar la creaci\xF3n de la remisi\xF3n",3,"label","onClick"],["dataKey","id","selectionMode","single",3,"value","rows","styleClass","loading","globalFilterFields"],["dt2",""],["pTemplate","footer"],["cd",""],["pTemplate","headless"],["header","Imprimir remisi\xF3n","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],[1,"flex"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","B\xFAsqueda r\xE1pida de productos",1,"p-inputtext-sm","text-xs",3,"input"],["pSortableColumn","title",1,"text-xs",2,"width","90%"],[1,"flex","justify-content-between","align-items-center"],["field","title"],["type","text","field","title","display","menu",1,"ml-auto"],[1,"text-xs",2,"width","10%"],[1,"text-sm"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-shopping-bag"],[1,"font-semibold","text-xm"],[1,"pi","pi-tag"],["size","small","icon","pi pi-arrow-right",1,"text-xs",3,"click"],["colspan","5",1,"text-xs"],["optionLabel","description","placeholder","Selecciona una formato",1,"p-inputtext-sm","text-xs",3,"options","ngModel","showClear","ngModelChange","onClick"],[1,"text-xs",2,"width","5%"],[1,"text-xs",2,"width","20%"],["pSortableColumn","description",1,"text-xs",2,"width","10%"],["pSortableColumn","turnDescription",1,"text-xs",2,"width","10%"],[1,"text-xs"],["size","small","icon","pi pi-trash","severity","danger",1,"text-xs",3,"click"],["colspan","6"],["colspan","1"],[1,"flex","flex-column","align-items-center","p-5","surface-overlay","border-round"],[1,"border-circle","bg-primary","inline-flex","justify-content-center","align-items-center","h-6rem","w-6rem","-mt-8"],[1,"pi","pi-question","text-5xl"],[1,"font-bold","block","mb-2","mt-4"],["optionLabel","turnDescription","placeholder","Selecciona un turno",1,"p-inputtext-sm","text-xs",3,"options","ngModel","showClear","ngModelChange","onChange"],[1,"font-bold","text-xs"],["optionLabel","categoryDescription","placeholder","Selecciona una unidad","pTooltip","Selecciona una unidad para el producto",1,"p-inputtext-sm",3,"options","ngModel","showClear","ngModelChange"],["pInputText","","type","text","placeholder","Cantidad","inputmode","numeric","pattern","[0-9]*","digitOnly","",1,"p-inputtext-sm",3,"ngModel","ngModelChange","keyup.enter"],[1,"mb-0","text-sm"],[1,"flex","align-items-center","gap-2","mt-4"],["pButton","","label","Agregar",1,"w-8rem",3,"click"],["pButton","","label","Cancelar",1,"p-button-outlined","w-8rem",3,"click"],["pInputText","","type","text","placeholder","Folio de la remisi\xF3n","pTooltip","N\xFAmero de folio que se le asigna a la remisi\xF3n",1,"p-inputtext-sm","text-xs",3,"ngModel","ngModelChange"],["label","Imprimir con precios",1,"p-inputtext-sm","text-xs",3,"binary","ngModel","ngModelChange"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["type","button","icon","pi pi-print","label","Imprimir remisi\xF3n","size","small","pTooltip","Imprimir la remisi\xF3n",3,"onClick"]],template:function(t,i){t&1&&(n(0,"p-panel",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5)(6,"p-dropdown",6),y("ngModelChange",function(c){return x(i.selectedPartida,c)||(i.selectedPartida=c),c}),g("onChange",function(){return i.changeDropsCatalog()}),o(),n(7,"label",7),l(8,"Partida"),o()()(),n(9,"div",8)(10,"span",5)(11,"p-dropdown",9),y("ngModelChange",function(c){return x(i.selectedArea,c)||(i.selectedArea=c),c}),g("onChange",function(){return i.changeDropsCatalog()}),o(),n(12,"label",7),l(13,"Cat\xE1logo espec\xEDfico"),o()()(),n(14,"div",10)(15,"p-table",11,12),T(17,it,4,0,"ng-template",13)(18,nt,8,0,"ng-template",14)(19,ot,14,7,"ng-template",15)(20,rt,3,0,"ng-template",16),o()()()(),n(21,"div",17),_(22,"p-divider",18)(23,"p-divider",19),o(),n(24,"div",20)(25,"form",21),g("ngSubmit",function(){return i.onSubmit()}),n(26,"div",3)(27,"div",10)(28,"span",5),_(29,"p-dropdown",22),n(30,"label",7),l(31,"Selecciona un \xE1rea"),o()()(),n(32,"div",23)(33,"span",24),_(34,"i",25)(35,"input",26),o()(),n(36,"div",23),_(37,"p-calendar",27),o(),n(38,"div",23),_(39,"input",28),o(),n(40,"div",29),_(41,"p-button",30),o(),n(42,"div",29)(43,"p-button",31),g("onClick",function(){return i.openPrintModal()}),o()(),n(44,"div",29)(45,"p-button",32),g("onClick",function(){return i.newRemission()}),o()(),n(46,"div",29)(47,"p-button",33),g("onClick",function(){return i.cancelRemissionCreation()}),o()()()(),n(48,"p-table",34,35),T(50,at,8,4,"ng-template",13)(51,st,19,0,"ng-template",14)(52,lt,20,14,"ng-template",15)(53,ct,3,0,"ng-template",16)(54,pt,6,3,"ng-template",36),o()()(),_(55,"p-toast"),n(56,"p-confirmDialog",null,37),T(58,dt,17,11,"ng-template",38),o(),n(59,"p-dialog",39),y("visibleChange",function(c){return x(i.visiblePrintModal,c)||(i.visiblePrintModal=c),c}),T(60,mt,9,4,"ng-template",40)(61,ut,2,0,"ng-template",36),o()()),t&2&&(s(6),d("options",i.partidas),C("ngModel",i.selectedPartida),d("showClear",!0),s(5),d("options",i.areas),C("ngModel",i.selectedArea),d("showClear",!0),s(4),d("value",i.products)("rows",10)("showCurrentPageReport",!0)("styleClass","p-datatable-sm")("scrollable",!0)("rowsPerPageOptions",R(35,ft))("loading",i.loading)("paginator",!0)("globalFilterFields",R(36,Ye)),s(8),d("align","center"),s(2),d("formGroup",i.dataForm),s(4),d("options",i.areas)("showClear",!0),s(8),d("iconDisplay","input")("showButtonBar",!0)("showIcon",!0),s(4),d("disabled",!i.dataForm.valid)("loading",i.savingRemission),s(2),d("disabled",!i.dataForm.valid||!i.remisionSaved),s(4),Q("label",i.remisionSaved?"Salir":"Cancelar"),s(),d("value",i.selectedProducts)("rows",35)("styleClass","p-datatable-sm")("loading",i.loading)("globalFilterFields",R(37,Ye)),s(11),U(R(38,ht)),C("visible",i.visiblePrintModal),d("modal",!0))},dependencies:[D,ne,oe,Re,Pe,W,De,Fe,Me,z,ve,Ce,Ie,we,ye,xe,Be,Oe,_e,me,se,le,ce,he,ue,fe,ke,Se,be,Ae,Ve,Le,je,Ne,ze,Qe,Ke,ge,de,Ee,Te,Je,We,qe,He,Ge]});let a=u;return a})();export{yi as RemisionAdminComponent};
