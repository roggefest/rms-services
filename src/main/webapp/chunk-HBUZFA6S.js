import{a as Ve,c as ke,d as Ae,e as Le}from"./chunk-JODAV4BE.js";import{c as re,e as ae}from"./chunk-KQI7IUZL.js";import{a as ye,b as xe,c as Se,d as Te,h as Pe,i as De,j as Fe,m as Me,n as Re,p as je,q as Oe,r as Be,s as qe,t as We,u as Ge,v as He,w as Ue}from"./chunk-JW6GJDIX.js";import{a as be,b as we}from"./chunk-7O5A32FW.js";import{B as ze,C as Ne,D as $e,b as se,c as k,e as le,f as ce,g as pe,h as A,i as de,j as me,k as ue,l as fe,n as he,o as ge,p as _e,r as ve,s as Ce,t as z,w as Ie,x as Ee}from"./chunk-PXTB3HIE.js";import{Eb as P,Fb as V,Gb as ee,N as L,Oc as O,Pa as I,Qa as N,Ra as u,S as $,Sc as B,Ua as U,Va as q,Wa as n,X as M,Xa as o,Xc as W,Y as j,Ya as v,Yc as G,ab as y,bb as _,cb as f,cc as te,db as Z,ea as p,eb as K,fa as d,fb as Q,hc as ie,kb as T,kc as ne,lb as l,lc as oe,mb as C,mc as D,nb as E,pb as J,qb as x,rb as b,sb as w,tb as Y,ub as X,vb as R,ya as s,za as S}from"./chunk-GKGXNZWZ.js";import"./chunk-55KE2TB7.js";var et=["*"],Ke=(()=>{class a{style;styleClass;layout="horizontal";type="solid";align;containerClass(){return{"p-divider p-component":!0,"p-divider-horizontal":this.layout==="horizontal","p-divider-vertical":this.layout==="vertical","p-divider-solid":this.type==="solid","p-divider-dashed":this.type==="dashed","p-divider-dotted":this.type==="dotted","p-divider-left":this.layout==="horizontal"&&(!this.align||this.align==="left"),"p-divider-center":this.layout==="horizontal"&&this.align==="center"||this.layout==="vertical"&&(!this.align||this.align==="center"),"p-divider-right":this.layout==="horizontal"&&this.align==="right","p-divider-top":this.layout==="vertical"&&this.align==="top","p-divider-bottom":this.layout==="vertical"&&this.align==="bottom"}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["p-divider"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",layout:"layout",type:"type",align:"align"},ngContentSelectors:et,decls:3,vars:6,consts:[["role","separator",3,"ngClass","ngStyle"],[1,"p-divider-content"]],template:function(e,t){e&1&&(Z(),n(0,"div",0)(1,"div",1),K(2),o()()),e&2&&(q(t.styleClass),u("ngClass",t.containerClass())("ngStyle",t.style),N("aria-orientation",t.layout)("data-pc-name","divider"))},dependencies:[te,ie],styles:[`@layer primeng{.p-divider-horizontal{display:flex;width:100%;position:relative;align-items:center}.p-divider-horizontal:before{position:absolute;display:block;top:50%;left:0;width:100%;content:""}.p-divider-horizontal.p-divider-left{justify-content:flex-start}.p-divider-horizontal.p-divider-right{justify-content:flex-end}.p-divider-horizontal.p-divider-center{justify-content:center}.p-divider-content{z-index:1}.p-divider-vertical{min-height:100%;margin:0 1rem;display:flex;position:relative;justify-content:center}.p-divider-vertical:before{position:absolute;display:block;top:0;left:50%;height:100%;content:""}.p-divider-vertical.p-divider-top{align-items:flex-start}.p-divider-vertical.p-divider-center{align-items:center}.p-divider-vertical.p-divider-bottom{align-items:flex-end}.p-divider-solid.p-divider-horizontal:before{border-top-style:solid}.p-divider-solid.p-divider-vertical:before{border-left-style:solid}.p-divider-dashed.p-divider-horizontal:before{border-top-style:dashed}.p-divider-dashed.p-divider-vertical:before{border-left-style:dashed}.p-divider-dotted.p-divider-horizontal:before{border-top-style:dotted}.p-divider-dotted.p-divider-horizontal:before{border-left-style:dotted}}
`],encapsulation:2,changeDetection:0})}return a})(),Qe=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=j({type:a});static \u0275inj=L({imports:[D]})}return a})();var Je=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=j({type:a});static \u0275inj=L({imports:[D,z,G,G]})}return a})();var it=()=>[10,25,50],Ye=()=>["title"],nt=()=>({width:"300px",height:"300px"});function ot(a,h){if(a&1){let r=y();n(0,"div",41)(1,"span",26),v(2,"i",42),n(3,"input",43),_("input",function(t){p(r),f();let i=T(16);return d(i.filterGlobal(t.target.value,"contains"))}),o()()()}}function rt(a,h){a&1&&(n(0,"tr")(1,"th",44)(2,"div",45),l(3," DESCRIPCION "),v(4,"p-sortIcon",46)(5,"p-columnFilter",47),o()(),n(6,"th",48),l(7,"Agregar"),o()())}function at(a,h){if(a&1){let r=y();n(0,"tr")(1,"td",49),l(2),n(3,"span",50),v(4,"i",51),n(5,"span",52),l(6),P(7,"currency"),o()(),n(8,"span",50),v(9,"i",53),n(10,"span",52),l(11),o()()(),n(12,"td")(13,"p-button",54),_("click",function(){let t=p(r).$implicit,i=f();return d(i.selectProduct(t,i.selectedTurn))}),o()()()}if(a&2){let r=h.$implicit;s(2),E("",r.title," "),s(4),J("",r.categoryDescription," : ",V(7,5,r.price)," ",r.generateIva?"(Genera IVA)":"",""),s(5),C(r.partidaDescription)}}function st(a,h){a&1&&(n(0,"tr")(1,"td",55),l(2,"No se encontraron productos."),o()())}function lt(a,h){if(a&1){let r=y();n(0,"div",41)(1,"p-dropdown",56),w("ngModelChange",function(t){p(r);let i=f();return b(i.selectedFormat,t)||(i.selectedFormat=t),d(t)}),_("onClick",function(){p(r);let t=f();return d(t.changeFormat())}),o(),n(2,"span",26),v(3,"i",42),n(4,"input",43),_("input",function(t){p(r),f();let i=T(49);return d(i.filterGlobal(t.target.value,"contains"))}),o()(),n(5,"span",26)(6,"p"),l(7),o()()()}if(a&2){let r=f();s(),u("options",r.listFormat),x("ngModel",r.selectedFormat),u("showClear",!1),s(6),E("Productos agregados : ",r.selectedProducts.length+" de "+r.listLimit,"")}}function ct(a,h){a&1&&(n(0,"tr")(1,"th",57),l(2,"NO."),o(),n(3,"th",48),l(4,"CANTIDAD"),o(),n(5,"th",58),l(6,"U. DE MEDIDA"),o(),n(7,"th",59)(8,"div",45),l(9," DESCRIPCI\xD3N "),o()(),n(10,"th",60)(11,"div",45),l(12," TURN "),o()(),n(13,"th",48),l(14,"PRECIO UNIT."),o(),n(15,"th",48),l(16,"IMPORTE"),o(),n(17,"th",57),l(18,"Eliminar"),o()())}function pt(a,h){if(a&1){let r=y();n(0,"tr")(1,"td",61),l(2),o(),n(3,"td",61),l(4),P(5,"number"),o(),n(6,"td",61),l(7),o(),n(8,"td",61),l(9),o(),n(10,"td",61),l(11),o(),n(12,"td",61),l(13),P(14,"currency"),o(),n(15,"td",61),l(16),P(17,"currency"),o(),n(18,"td")(19,"p-button",62),_("click",function(t){let i=p(r).$implicit,c=f();return d(c.deleteProductFromList(i,t))}),o()()()}if(a&2){let r=h.$implicit,e=h.rowIndex;s(2),C(e+1),s(2),C(ee(5,7,r.quantity,"0.0-3")),s(3),C(r.categoryDescription),s(2),C(r.title),s(2),C(r.turnDescription),s(2),C(V(14,10,r.price)),s(3),C(V(17,12,r.quantity*r.price))}}function dt(a,h){a&1&&(n(0,"tr")(1,"td",55),l(2,"No se encontraron productos."),o()())}function mt(a,h){if(a&1&&(n(0,"tr"),v(1,"td",63),n(2,"td"),l(3),P(4,"currency"),o(),v(5,"td",64),o()),a&2){let r=f();s(3),E("Total: ",V(4,1,r.totalSum),"")}}function ut(a,h){if(a&1){let r=y();n(0,"div",65)(1,"div",66),v(2,"i",67),o(),n(3,"span",68),l(4),o(),n(5,"p-dropdown",69),w("ngModelChange",function(t){p(r);let i=f();return b(i.selectedTurn,t)||(i.selectedTurn=t),d(t)}),_("onChange",function(){p(r);let t=f();return d(t.onChangeTurn(t.selectedProduct))}),o(),n(6,"p",70),l(7),o(),n(8,"p-dropdown",71),w("ngModelChange",function(t){p(r);let i=f();return b(i.selectedCategory,t)||(i.selectedCategory=t),d(t)}),o(),n(9,"p",70),l(10),o(),n(11,"input",72),w("ngModelChange",function(t){p(r);let i=f();return b(i.quantity,t)||(i.quantity=t),d(t)}),_("keyup.enter",function(){p(r),f();let t=T(57);return d(t.accept())}),o(),n(12,"p",73),l(13),o(),n(14,"div",74)(15,"button",75),_("click",function(){p(r),f();let t=T(57);return d(t.accept())}),o(),n(16,"button",76),_("click",function(){p(r),f();let t=T(57);return d(t.reject())}),o()()()}if(a&2){let r=h.$implicit,e=f();s(4),C(r.header),s(),u("options",e.turns),x("ngModel",e.selectedTurn),u("showClear",!0),s(2),C("UNIDAD DE MEDIDA PREDETERMINADA EN CAT\xC1LOGO: "+(e.selectedProduct==null?null:e.selectedProduct.categoryDescription)),s(),u("options",e.unidades),x("ngModel",e.selectedCategory),u("showClear",!0),s(2),E("CANTIDAD ",e.selectedProduct.generateIva?"(Genera IVA)":"",":"),s(),x("ngModel",e.quantity),s(2),C(r.message)}}function ft(a,h){if(a&1){let r=y();n(0,"div",13)(1,"p"),l(2),o()(),n(3,"div",13)(4,"span",26),v(5,"i",27),n(6,"input",77),w("ngModelChange",function(t){p(r);let i=f();return b(i.finalFolio,t)||(i.finalFolio=t),d(t)}),o()()(),n(7,"div",13)(8,"p-checkbox",78),w("ngModelChange",function(t){p(r);let i=f();return b(i.printPrices,t)||(i.printPrices=t),d(t)}),o()()}if(a&2){let r=f();s(2),E("Formato eleg\xEDdo: ",r.selectedFormat==null?null:r.selectedFormat.description,""),s(4),x("ngModel",r.finalFolio),s(2),u("binary",!0),x("ngModel",r.printPrices)}}function ht(a,h){if(a&1){let r=y();n(0,"button",79),_("click",function(){p(r);let t=f();return d(t.closeDialog())}),o(),n(1,"p-button",80),_("onClick",function(){p(r);let t=f();return d(t.printRemissionAction())}),o()}}var xi=(()=>{let h=class h{constructor(e,t,i,c,m){this.service=e,this.catalogService=t,this.messageService=i,this.confirmatioService=c,this.router=m,this.route=$(re),this.loadingDetails=!1,this.loadingProducts=!1,this.products=[],this.selectedProducts=[],this.loading=!1,this.totalRecords=0,this.partidas=[],this.areas=[],this.turns=[],this.quantity=1,this.listFormat=[],this.listLimit=1,this.remisionSaved=!1,this.savingRemission=!1,this.remissionId="",this.totalSum=0,this.visiblePrintModal=!1,this.printButon=!0,this.printPrices=!0,this.finalFolio="",this.unidades=[],this.dataForm=new pe({folio:new A("",[k.minLength(3),k.pattern("^[0-9]*$")]),observations:new A(""),destination:new A(0,[k.required]),expeditionDate:new A({value:"",disabled:!1},[k.required])})}ngOnInit(){this.remissionId=String(this.route.snapshot.paramMap.get("remissionId")),this.loadAreasCatalog(),this.loadPartidaCatalog(),this.loadCategoryCatalog(),this.turns=[{turnId:1,turnDescription:"Jornada Acumulada"},{turnId:2,turnDescription:"Matutino"},{turnId:3,turnDescription:"Vespertino"}],this.selectedTurn=this.turns[0],this.listFormat=[{description:"Largo (35 elementos)",id:1},{description:"Corto (15 elementos)",id:2},{description:"Corto (15 elementos - Bemic)",id:3}],this.selectedFormat=this.listFormat[0],this.listLimit=35}changeDropsCatalog(){this.loadProducts(this.selectedPartida?.partidaId,this.selectedArea?.areaId)}loadDetails(e){this.loadingDetails=!0,this.detailsSubscription=this.service.getRemisionDetails(e).subscribe({next:t=>{this.remisionDetail=t,console.log("Remission detail: %o",this.remisionDetail)},error:t=>{console.error("Error loading remissions:",t)},complete:()=>{this.remisionDetail!=null&&(console.log("areas: %o",this.areas),console.log("area %o",this.areas.find(t=>t.areaId==this.remisionDetail.destinationId)),this.dataForm.patchValue({folio:this.remisionDetail.folio,observations:this.remisionDetail.observations,expeditionDate:new Date(this.remisionDetail.expeditionDate),destination:this.areas.find(t=>t.areaId==this.remisionDetail.destinationId)}),this.selectedFormat=this.listFormat.find(t=>t.id===this.remisionDetail.formatId),this.totalSum=this.remisionDetail.total,this.selectedProducts=this.remisionDetail.products,this.remisionSaved=!0,this.setLimit(),this.loadingDetails=!1)}})}loadProducts(e,t){this.loadingProducts=!0,this.getProductCatalogSubscription=this.catalogService.getProductsCatalog(t,e).subscribe({next:i=>{console.log(i),this.products=i},error:i=>{console.error("Error loading remissions:",i)},complete:()=>{this.loadingProducts=!1}})}selectProduct(e,t){if(+this.listLimit-this.selectedProducts.length<=0){this.messageService.add({severity:"error",summary:"Limite de la lista alcanzado",detail:"Se alcanz\xF3 el l\xEDmite de elementos, elimine elementos para agregar nuevos elementos"});return}this.selectedCategory={categoryDescription:e.categoryDescription,categoryId:e.categoryId};let c={id:e.id+"",title:e.title,description:e.description,price:e.price,categoryId:e.categoryId,categoryDescription:e.categoryDescription,quantity:e.quantity,turnId:t.turnId,turnDescription:t.turnDescription,partidaId:this.selectedPartida?.partidaId,partidaDescription:e.partidaDescription,generateIva:e.generateIva},m=e.title,g="",F=!1;this.checkProductExistence(c)?(g=`El producto ya existe en la remisi\xF3n, Sumar ${this.quantity} ${e.category} de ${m} a el producto existente en la remisi\xF3n?`,F=!0):g=`Agregar ${m} a la remisi\xF3n?`,this.createConfirmationDialog(c,g,F)}checkProductExistence(e){return console.log(this.selectedProducts),console.log("newProduct %o",e),console.log("%o",this.selectedProducts.find(t=>t.id===e.id&&t.turnId===e.turnId)),this.selectedProducts.find(t=>t.id==e.id&&t.turnId===e.turnId)!=null}onChangeTurn(e){console.log("onChangeTurn");let t={turnId:this.selectedTurn?.turnId,turnDescription:this.selectedTurn?.turnDescription},i=this.selectedProduct.title,c=t.turnId,m=t.turnDescription,g="",F=!1,H={id:e.id+"",title:e.title,description:e.description,price:e.price,categoryId:e.categoryId,categoryDescription:e.categoryDescription,quantity:e.quantity,turnId:c,partidaDescription:e.partidaDescription,turnDescription:m,partidaId:this.selectedPartida?.partidaId};this.checkProductExistence(H)?(g=`El producto ya existe en la remisi\xF3n, Sumar ${this.quantity} ${this.selectedProduct.category} de ${i} a el producto existente en la remisi\xF3n?`,F=!0):g=`Agregar ${i} a la remisi\xF3n?`,this.createConfirmationDialog(H,g,F)}createConfirmationDialog(e,t,i){this.selectedProduct=e;let c=e.title,m=`Agregar (${c})`;i&&(m=`PRODUCTO EXISTENTE (${c})`),this.selectedTurn=this.turns[0],this.confirmatioService.confirm({message:t,header:m,acceptLabel:"Si",icon:"pi pi-dearch",accept:()=>{i?this.modifyingProductInList(e):this.addNewProductToList(e),this.calculateTotal()},reject:()=>{this.messageService.add({severity:"error",summary:"Operaci\xF3n cancelada",detail:`Se rechaz\xF3 agregar ${c} a la remisi\xF3n`})}})}addNewProductToList(e){e.quantity=this.quantity,e.categoryId=this.selectedCategory?.categoryId,e.categoryDescription=this.selectedCategory?.categoryDescription,this.selectedProducts.push(e),this.quantity=1,console.log("Adding to list %o",this.selectedProducts),this.messageService.add({severity:"success",summary:"Confirmado",detail:`Se agregaron ${this.quantity} ${e.categoryDescription} de ${e.title} a la remisi\xF3n`})}modifyingProductInList(e){let t=this.selectedProducts.find(m=>m.id===e.id&&m.turnId===e.turnId),i=this.selectedProducts.indexOf(t),c=this.selectedProducts[i].quantity;c=+c+ +this.quantity,this.selectedProducts[i].quantity=c,this.quantity=1,this.messageService.add({severity:"success",summary:"Confirmado",detail:`Se sumaron ${this.quantity} ${e.categoryDescription} de ${e.title} a el producto existente?`})}deleteProductFromList(e,t){console.log("deleteFromlist"),console.log("found product: %o",this.selectedProducts.find(m=>m.id===e.id&&m.turnId===e.turnId));let i=this.selectedProducts.find(m=>m.id===e.id&&m.turnId===e.turnId),c=this.selectedProducts.indexOf(i);console.log("index: %o",c),this.selectedProducts.splice(c,1),this.calculateTotal(),this.messageService.add({severity:"success",summary:"Confirmado",detail:`Se elimino el producto ${e.title} de la lista con \xE9xito`})}setLimit(){this.selectedFormat==this.listFormat[0]?this.listLimit=35:this.listLimit=15}changeFormat(){console.log(this.selectedFormat),this.setLimit();let e=+this.listLimit-this.selectedProducts.length;if(console.log(e),e<0){this.selectedFormat=this.listFormat[0],this.listLimit=35,this.messageService.add({severity:"error",summary:"No se puede modificar formato",detail:"Se alcanz\xF3 el l\xEDmite de elementos para cambiar el formto, elimine elementos para agregar nuevos elementos"});return}}printRemissionPreview(){this.visiblePrintModal=!0,this.pdfremisionsubscription=this.service.getPdfRemissionB64(this.remissionId).subscribe({next:e=>{console.log(e);let t=PDFObject.embed(e.b64Pdf,"#pdfContainer")},error:e=>{console.error("Error printing remission preview:",e)},complete:()=>{this.loadingProducts=!1}})}openPrintModal(){this.visiblePrintModal=!0,this.finalFolio=this.dataForm.controls.folio.value}newRemission(){console.log("newRemission");let e=this.dataForm.controls.folio.value;this.remisionSaved&&e===""?this.messageService.add({severity:"error",summary:"Folio faltante",detail:"Proporcione un folio y guarde la remisi\xF3n antes de crear una nueva"}):this.reloadComponent(!1,"adminremision/0")}reloadComponent(e,t){console.log("Current route I am on:",this.router.url);let i=e?this.router.url:t;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([`/${i}`]).then(()=>{console.log(`After navigation I am on:${this.router.url}`)})})}printRemissionAction(){console.log("Printing remission with price? %o",this.printPrices),this.finalFolio===""?this.service.printRemissionUpdate(this.remissionId,"0",this.printPrices):(this.dataForm.controls.folio.patchValue(this.finalFolio),this.service.printRemissionUpdate(this.remissionId,this.finalFolio,this.printPrices)),this.visiblePrintModal=!1}closeDialog(){this.visiblePrintModal=!1}cancelRemissionCreation(){this.router.navigate(["listremisions"])}onSubmit(){console.warn(this.dataForm.value),this.savingRemission=!0,console.log("Selected products: %o",this.selectedProducts);let e=+(this.totalSum*.16)+ +this.totalSum;console.log("Great total: ",e),this.remissionData={id:this.remissionId,total:this.totalSum,greatTotal:e.toFixed(2),destinationId:this.dataForm.controls.destination.value.areaId,areaDescription:this.dataForm.controls.destination.value.areaDescription,folio:this.dataForm.controls.folio.value,observations:this.dataForm.controls.observations.value,expeditionDate:this.dataForm.controls.expeditionDate.value,format:this.selectedFormat,products:this.selectedProducts,formatId:this.selectedFormat?.id},console.log("remission data: %o",this.remissionData),this.saveRemission(this.remissionData)}saveRemission(e){this.savingRemission=!0,this.addRemisionSubscription=this.service.addRemission(this.remissionData).subscribe({next:t=>{console.log("Response: %o",t),this.remissionId=t.id},error:t=>{this.savingRemission=!1,this.remisionSaved=!1,console.error("Error substituying remissions:",t),this.messageService.add({severity:"error",summary:"Error al guardar",detail:"Ocurri\xF3 un error al guardar la remisi\xF3n"})},complete:()=>{this.savingRemission=!1,this.remisionSaved=!0,this.messageService.add({severity:"success",summary:"Guardado exitoso",detail:`Se guard\xF3 la remisi\xF3n con el folio: ${e.folio} exitosamente`})}})}calculateTotal(){this.selectedProducts.length!=0?this.totalSum=this.selectedProducts.map(e=>e.price*e.quantity).reduce(function(e,t){return e+t}):this.totalSum=0}loadAreasCatalog(){this.catalogServicesSubscription=this.catalogService.getDestinations().subscribe({next:e=>{this.areas=e},error:e=>{console.error("Error loading areas catalog:",e)},complete:()=>{this.loadDetails(this.remissionId)}})}loadPartidaCatalog(){this.partidaCatSubscription=this.catalogService.getPartidas().subscribe({next:e=>{this.partidas=e},error:e=>{console.error("Error loading areas catalog:",e)},complete:()=>{}})}loadCategoryCatalog(){this.categoryCatSubscription=this.catalogService.getCategories().subscribe({next:e=>{this.unidades=e},error:e=>{console.error("Error loading areas catalog:",e)},complete:()=>{}})}ngOnDestroy(){this.catalogServicesSubscription?.unsubscribe(),this.addRemisionSubscription?.unsubscribe(),this.detailsSubscription?.unsubscribe(),this.pdfremisionsubscription?.unsubscribe(),this.getProductCatalogSubscription?.unsubscribe(),this.partidaCatSubscription?.unsubscribe(),this.categoryCatSubscription?.unsubscribe(),console.log("unsubscribed")}};h.\u0275fac=function(t){return new(t||h)(S($e),S(Ue),S(B),S(O),S(ae))},h.\u0275cmp=M({type:h,selectors:[["app-remision-admin"]],standalone:!0,features:[Y([B,O]),X],decls:62,vars:39,consts:[["dtproducts",""],["dt2",""],["cd",""],["header","REMISIONES"],[1,"flex","flex-column","md:flex-row"],[1,"w-full","md:w-6","flex","flex-column","gap-3","py-1","text-xs"],[1,"formgrid","grid"],[1,"field","md:col-5","col-12"],[1,"p-float-label"],["optionLabel","partidaDescription","placeholder","Selecciona una partida","pTooltip","Selecciona una partida para desplegar su cat\xE1logo","inputId","float-label",1,"p-inputtext-sm","text-xs",3,"ngModelChange","onChange","options","ngModel","showClear"],["for","float-label"],[1,"field","md:col-7","col-12"],["optionLabel","areaDescription","placeholder","Selecciona un catalogo espec\xEDfico","pTooltip","Selecciona un \xE1rea para desplegar sus parridas","inputId","float-label",1,"p-inputtext-sm","text-xs","sm:max-w-min",3,"ngModelChange","onChange","options","ngModel","showClear"],[1,"field","md:col-12","col-12"],["dataKey","id","selectionMode","single","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","styleClass","scrollable","rowsPerPageOptions","loading","paginator","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"w-full","md:w-2"],["layout","vertical","styleClass","hidden md:flex"],["layout","horizontal","styleClass","flex md:hidden",3,"align"],[1,"w-full","md:w-10","flex","py-1","flex","flex-column"],[3,"ngSubmit","formGroup"],["optionLabel","areaDescription","formControlName","destination","placeholder","Selecciona un \xE1rea","pTooltip","\xC1rea de destino de la remisi\xF3n","inputId","float-label",1,"p-inputtext-sm","text-xs",3,"options","showClear"],[1,"field","md:col-4","col-4"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-folder"],["pInputText","","type","text","placeholder","Folio de la remisi\xF3n","formControlName","folio","pTooltip","N\xFAmero de folio que se le asigna a la remisi\xF3n",1,"p-inputtext-sm","text-xs"],["formControlName","expeditionDate","dateFormat","dd/mm/yy","tooltipEvent","focus","placeholder","Fecha de expedici\xF3n","pTooltip","Fecha de inicio en que se expidio la remisi\xF3n",1,"p-inputtext-sm","text-xs",3,"iconDisplay","showButtonBar","showIcon"],["pInputText","","type","text","placeholder","Observaciones","formControlName","observations","pTooltip","Observaciones de le remisi\xF3n",1,"p-inputtext-sm","text-xs"],[1,"field","md:col-3","col-3"],["type","submit","icon","pi pi-save","label","Guardar remisi\xF3n","size","small","pTooltip","Guardar la remisi\xF3n","loadingIcon","pi pi-cog",3,"disabled","loading"],["type","button","icon","pi pi-print","label","Imprimir remisi\xF3n","size","small","pTooltip","Imprimir la remisi\xF3n",3,"onClick","disabled"],["type","button","icon","pi pi-plus","label","Nueva remisi\xF3n","size","small","pTooltip","Crear nueva remisi\xF3n",3,"onClick"],["type","button","icon","pi pi-times-circle","severity","danger","size","small","pTooltip","Cancelar la creaci\xF3n de la remisi\xF3n",3,"onClick","label"],["dataKey","id","selectionMode","single",3,"value","rows","styleClass","loading","globalFilterFields"],["pTemplate","footer"],["pTemplate","headless"],["header","Imprimir remisi\xF3n","styleClass","p-fluid",3,"visibleChange","visible","modal"],["pTemplate","content"],[1,"flex"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","B\xFAsqueda r\xE1pida de productos",1,"p-inputtext-sm","text-xs",3,"input"],["pSortableColumn","title",1,"text-xs",2,"width","90%"],[1,"flex","justify-content-between","align-items-center"],["field","title"],["type","text","field","title","display","menu",1,"ml-auto"],[1,"text-xs",2,"width","10%"],[1,"text-sm"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-shopping-bag"],[1,"font-semibold","text-xm"],[1,"pi","pi-tag"],["size","small","icon","pi pi-arrow-right",1,"text-xs",3,"click"],["colspan","5",1,"text-xs"],["optionLabel","description","placeholder","Selecciona una formato",1,"p-inputtext-sm","text-xs",3,"ngModelChange","onClick","options","ngModel","showClear"],[1,"text-xs",2,"width","5%"],[1,"text-xs",2,"width","20%"],["pSortableColumn","description",1,"text-xs",2,"width","10%"],["pSortableColumn","turnDescription",1,"text-xs",2,"width","10%"],[1,"text-xs"],["size","small","icon","pi pi-trash","severity","danger",1,"text-xs",3,"click"],["colspan","6"],["colspan","1"],[1,"flex","flex-column","align-items-center","p-5","surface-overlay","border-round"],[1,"border-circle","bg-primary","inline-flex","justify-content-center","align-items-center","h-6rem","w-6rem","-mt-8"],[1,"pi","pi-question","text-5xl"],[1,"font-bold","block","mb-2","mt-4"],["optionLabel","turnDescription","placeholder","Selecciona un turno",1,"p-inputtext-sm","text-xs",3,"ngModelChange","onChange","options","ngModel","showClear"],[1,"font-bold","text-xs"],["optionLabel","categoryDescription","placeholder","Selecciona una unidad","pTooltip","Selecciona una unidad para el producto",1,"p-inputtext-sm",3,"ngModelChange","options","ngModel","showClear"],["pInputText","","type","text","placeholder","Cantidad","inputmode","numeric","pattern","[0-9]*","digitOnly","",1,"p-inputtext-sm",3,"ngModelChange","keyup.enter","ngModel"],[1,"mb-0","text-sm"],[1,"flex","align-items-center","gap-2","mt-4"],["pButton","","label","Agregar",1,"w-8rem",3,"click"],["pButton","","label","Cancelar",1,"p-button-outlined","w-8rem",3,"click"],["pInputText","","type","text","placeholder","Folio de la remisi\xF3n","pTooltip","N\xFAmero de folio que se le asigna a la remisi\xF3n",1,"p-inputtext-sm","text-xs",3,"ngModelChange","ngModel"],["label","Imprimir con precios",1,"p-inputtext-sm","text-xs",3,"ngModelChange","binary","ngModel"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["type","button","icon","pi pi-print","label","Imprimir remisi\xF3n","size","small","pTooltip","Imprimir la remisi\xF3n",3,"onClick"]],template:function(t,i){if(t&1){let c=y();n(0,"p-panel",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"span",8)(6,"p-dropdown",9),w("ngModelChange",function(g){return p(c),b(i.selectedPartida,g)||(i.selectedPartida=g),d(g)}),_("onChange",function(){return p(c),d(i.changeDropsCatalog())}),o(),n(7,"label",10),l(8,"Partida"),o()()(),n(9,"div",11)(10,"span",8)(11,"p-dropdown",12),w("ngModelChange",function(g){return p(c),b(i.selectedArea,g)||(i.selectedArea=g),d(g)}),_("onChange",function(){return p(c),d(i.changeDropsCatalog())}),o(),n(12,"label",10),l(13,"Cat\xE1logo espec\xEDfico"),o()()(),n(14,"div",13)(15,"p-table",14,0),I(17,ot,4,0,"ng-template",15)(18,rt,8,0,"ng-template",16)(19,at,14,7,"ng-template",17)(20,st,3,0,"ng-template",18),o()()()(),n(21,"div",19),v(22,"p-divider",20)(23,"p-divider",21),o(),n(24,"div",22)(25,"form",23),_("ngSubmit",function(){return p(c),d(i.onSubmit())}),n(26,"div",6)(27,"div",13)(28,"span",8),v(29,"p-dropdown",24),n(30,"label",10),l(31,"Selecciona un \xE1rea"),o()()(),n(32,"div",25)(33,"span",26),v(34,"i",27)(35,"input",28),o()(),n(36,"div",25),v(37,"p-calendar",29),o(),n(38,"div",25),v(39,"input",30),o(),n(40,"div",31),v(41,"p-button",32),o(),n(42,"div",31)(43,"p-button",33),_("onClick",function(){return p(c),d(i.openPrintModal())}),o()(),n(44,"div",31)(45,"p-button",34),_("onClick",function(){return p(c),d(i.newRemission())}),o()(),n(46,"div",31)(47,"p-button",35),_("onClick",function(){return p(c),d(i.cancelRemissionCreation())}),o()()()(),n(48,"p-table",36,1),I(50,lt,8,4,"ng-template",15)(51,ct,19,0,"ng-template",16)(52,pt,20,14,"ng-template",17)(53,dt,3,0,"ng-template",18)(54,mt,6,3,"ng-template",37),o()()(),v(55,"p-toast"),n(56,"p-confirmDialog",null,2),I(58,ut,17,11,"ng-template",38),o(),n(59,"p-dialog",39),w("visibleChange",function(g){return p(c),b(i.visiblePrintModal,g)||(i.visiblePrintModal=g),d(g)}),I(60,ft,9,4,"ng-template",40)(61,ht,2,0,"ng-template",37),o()()}t&2&&(s(6),u("options",i.partidas),x("ngModel",i.selectedPartida),u("showClear",!0),s(5),u("options",i.areas),x("ngModel",i.selectedArea),u("showClear",!0),s(4),u("value",i.products)("rows",10)("showCurrentPageReport",!0)("styleClass","p-datatable-sm")("scrollable",!0)("rowsPerPageOptions",R(35,it))("loading",i.loading)("paginator",!0)("globalFilterFields",R(36,Ye)),s(8),u("align","center"),s(2),u("formGroup",i.dataForm),s(4),u("options",i.areas)("showClear",!0),s(8),u("iconDisplay","input")("showButtonBar",!0)("showIcon",!0),s(4),u("disabled",!i.dataForm.valid)("loading",i.savingRemission),s(2),u("disabled",!i.dataForm.valid||!i.remisionSaved),s(4),Q("label",i.remisionSaved?"Salir":"Cancelar"),s(),u("value",i.selectedProducts)("rows",35)("styleClass","p-datatable-sm")("loading",i.loading)("globalFilterFields",R(37,Ye)),s(11),U(R(38,nt)),x("visible",i.visiblePrintModal),u("modal",!0))},dependencies:[D,ne,oe,Re,Pe,W,De,Fe,Me,z,ve,Ce,Te,Se,xe,ye,Be,Oe,_e,me,se,le,ce,he,ue,fe,Ve,we,be,ke,Le,Ae,je,Ne,ze,Qe,Ke,ge,de,Ee,Ie,Je,We,qe,He,Ge]});let a=h;return a})();export{xi as RemisionAdminComponent};
